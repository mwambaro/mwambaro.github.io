<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Laastras — Leadership as a Service Trade System</title>
  <meta name="description" content="Laastras reforms trade for fairness, equality and financial security. GetClientele · eCard Wireless · Chaperon · Aori" />
  <meta property="og:title" content="Laastras - Leadership as a Service" />
  <meta property="og:url" content="https://mwambaro.github.io" />
  <meta property="og:description" content="Homocracy, DPI and the Trade Postulate" />
  <meta property="og:image" content="https://1drv.ms/i/c/2e6ead2d38e36d5a/IQRzEsiSkv1vSKze2TRrmp_iAWuTm8TcED-ly3ucisFZF7Q?width=3148&height=2118" />
  <link rel="shortcut icon" href="assets/favicon.svg" />

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- AOS animations -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

  <style>
    :root{--indigo:#4f46e5}
    body{font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; background:linear-gradient(180deg,#fbfbff,#f3f4ff);}
    .glass{background:rgba(255,255,255,0.6);backdrop-filter:blur(6px)}
    .media-card{width:100%;height:100%;object-fit:cover;border-radius:0.75rem}
    .media-max{max-height:60vh}
    @media(min-width:1024px){.media-max{max-height:50vh}} 
    .read-more-content{max-height:0;overflow:hidden;transition:max-height .45s ease,opacity .35s ease;opacity:0}
    .read-more-content.open{opacity:1;max-height:1200px}
    .hero-media{border-radius:1rem;box-shadow:0 10px 40px rgba(15,23,42,.08)}

    /* Fullscreen overlay styles */
    #fullscreenOverlay{
     position:fixed;top:0;left:0;width:100%;height:100%;
     background:rgba(0,0,0,0.85);display:none;align-items:center;
     justify-content:center;z-index:9999;padding:20px;
    }
    #fullscreenOverlay img{
     max-width:90%;max-height:90%;border-radius:1rem;box-shadow:0 0 25px rgba(0,0,0,0.5);
    }
    #closeFullscreen{
     position:absolute;top:20px;right:20px;background:#fff;
     padding:10px 14px;border-radius:8px;font-weight:bold;cursor:pointer;
    }

    /* Content box inside overlay for forms */
    #overlayContent{
      max-width:900px;width:100%;max-height:90%;overflow:auto;border-radius:1rem;
      box-shadow:0 25px 60px rgba(0,0,0,0.6);
    }
  </style>
</head>
<body class="text-slate-800 leading-relaxed">
<div id="fullscreenOverlay" class="flex">
  <div id="closeFullscreen" class="text-sm">Close ✕</div>

  <!-- Image element -->
  <img id="fullscreenImage" src="" alt="Fullscreen" class="hidden"/>

  <!-- Content container (forms, html content) -->
  <div id="overlayContent" class="hidden bg-white p-6 sm:p-10"></div>
</div>

  <!-- NAV -->
  <header class="sticky top-0 z-40 bg-white/75 backdrop-blur-sm border-b">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-16">
        <a href="#" class="flex items-center gap-3">
          <img src="assets/logo.png" alt="Laastras" class="w-12 h-12 rounded-md shadow-sm object-cover" />
          <div class="leading-tight">
            <div class="font-extrabold text-lg">Laastras</div>
            <div class="text-xs text-slate-500 -mt-0.5">Leadership as a Service · Homocracy</div>
          </div>
        </a>

        <nav class="hidden md:flex items-center gap-6 text-sm">
          <a href="#mission" class="hover:text-[var(--indigo)]">Mission</a>
          <a href="#brands" class="hover:text-[var(--indigo)]">Brands</a>
          <a href="#how" class="hover:text-[var(--indigo)]">How it works</a>
          <a href="#contact" class="inline-flex items-center px-3 py-2 rounded-md bg-[var(--indigo)] text-white shadow">Contact</a>
        </nav>

        <div class="md:hidden">
          <button id="burger" aria-label="open menu" class="p-2 rounded-md hover:bg-slate-100">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg>
          </button>
        </div>
      </div>
    </div>

    <div id="mobileMenu" class="hidden md:hidden border-t bg-white/95">
      <div class="px-4 py-4 space-y-2">
        <a class="block py-2" href="#mission">Mission</a>
        <a class="block py-2" href="#brands">Brands</a>
        <a class="block py-2" href="#how">How it works</a>
        <a class="block py-2 text-[var(--indigo)]" href="#contact">Contact</a>
      </div>
    </div>
  </header>

  <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">

    <!-- HERO -->
    <section class="grid lg:grid-cols-2 gap-10 items-center py-16">
      <div data-aos="fade-right" class="space-y-6">
        <h1 class="text-4xl sm:text-5xl font-extrabold">Laastras — Building Homocracy with Digital Public Infrastructure</h1>
        <p class="text-lg text-slate-600">We redesign governance so every human is a shareholder, every resource is shared, and leadership is delivered as a service via DPI and trustworthy data governance.</p>

        <div class="flex gap-3">
          <a href="#brands" class="inline-flex items-center gap-2 px-5 py-3 bg-[var(--indigo)] text-white rounded-lg shadow hover:bg-indigo-700">Explore brands</a>
          <a href="#how" class="inline-flex items-center gap-2 px-4 py-3 border rounded-lg">How it works</a>
        </div>

        <div class="mt-6 grid grid-cols-1 sm:grid-cols-3 gap-3">
          <div class="p-4 bg-white rounded-lg shadow-sm glass">
            <p class="text-xs text-slate-500">Founder</p>
            <p class="font-semibold">Obed-Edom Nkezabahizi</p>
          </div>
          <div class="p-4 bg-white rounded-lg shadow-sm glass">
            <p class="text-xs text-slate-500">Email</p>
            <p class="font-semibold">onkezabahizi@gmail.com</p>
          </div>
          <div class="p-4 bg-white rounded-lg shadow-sm glass">
            <p class="text-xs text-slate-500">Portfolio</p>
            <p class="font-semibold">mwambaro.github.io</p>
          </div>
        </div>
      </div>

      <div data-aos="fade-left" class="relative">
        <div class="hero-media bg-gradient-to-tr from-white to-indigo-50 p-2 rounded-2xl">
          <img src="assets/homocracy-through-dpi.jpg" alt="Homocracy through DPI" class="media-card clickable" />
        </div>
      </div>
    </section>

    <!-- MISSION -->
    <section id="mission" class="py-12">
      <div class="mx-auto max-w-4xl text-center" data-aos="fade-up">
        <h2 class="text-3xl font-bold">Mission</h2>
        <p class="mt-4 text-slate-600">Laastras reforms trade through Services Exchange and Virtual Currency, enabling fairness, financial security, and inclusivity. We operationalize Homocracy: an immutable constitution, shared planetary resources, and Leadership as a Service.</p>

        <div class="mt-8 grid grid-cols-1 md:grid-cols-3 gap-4">
          <div class="p-6 bg-white rounded-lg shadow hover:shadow-lg">
            <h4 class="font-semibold">Sovereignty</h4>
            <p class="text-sm text-slate-600 mt-2">Each person receives a guaranteed Self-Contained Personal Space (SCoPS).</p>
          </div>
          <div class="p-6 bg-white rounded-lg shadow hover:shadow-lg">
            <h4 class="font-semibold">Trade-First</h4>
            <p class="text-sm text-slate-600 mt-2">Interactions outside SCoPS are voluntary trade—no coercion, only exchange.</p>
          </div>
          <div class="p-6 bg-white rounded-lg shadow hover:shadow-lg">
            <h4 class="font-semibold">Digital Backbone</h4>
            <p class="text-sm text-slate-600 mt-2">DPI and DG provide transparency, accountability and real-time delivery.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- BRANDS PART 1 -->
    <section id="brands" class="py-12">
      <div class="max-w-6xl mx-auto">
        <div class="text-center" data-aos="zoom-in">
          <h3 class="text-3xl font-bold">The Laastras Brands</h3>
          <p class="mt-3 text-slate-600">GetClientele, eCard Wireless, Chaperon and Aori together operationalize Homocracy on the ground.</p>
        </div>

        <div class="mt-8 grid gap-8 grid-cols-1 lg:grid-cols-2">

          <!-- GetClientele -->
          <article data-aos="fade-up" class="p-6 bg-white rounded-2xl shadow-lg flex flex-col lg:flex-row overflow-hidden">
            <div class="lg:w-1/2 p-4 flex items-center justify-center">
              <div class="w-full h-56 lg:h-full overflow-hidden rounded-xl shadow-inner">
                <img src="assets/GetClientele.jpg" alt="GetClientele" class="media-card clickable" />
              </div>
            </div>
            <div class="lg:w-1/2 p-4 flex flex-col justify-between">
              <div>
                <h4 class="text-2xl font-bold">GetClientele</h4>
                <p class="text-slate-600 mt-3">Maps Available Goods & Services (AGAS) and directs shoppers to vendors, improving vendor visibility and fair customer distribution across marketplaces.</p>
                <ul class="mt-4 space-y-2 text-sm text-slate-700">
                  <li>• AGAS cloud for vendors</li>
                  <li>• Real-time analytics and routing</li>
                  <li>• Boosts local vendor income</li>
                </ul>
              </div>
              <div class="mt-6 flex items-center gap-3">
                <a class="px-4 py-2 bg-[var(--indigo)] text-white rounded" href="#" id="learn-more">Learn more</a>
                <a class="px-4 py-2 border rounded" href="#" id="request-demo">Request demo</a>
              </div>
            </div>
          </article>
                    <!-- eCard Wireless -->
          <article data-aos="fade-up" data-aos-delay="80" class="p-6 bg-white rounded-2xl shadow-lg flex flex-col lg:flex-row-reverse overflow-hidden">
            <div class="lg:w-1/2 p-4 flex items-center justify-center">
              <div class="w-full h-56 lg:h-full overflow-hidden rounded-xl shadow-inner">
                <img src="assets/Laastras-hofi-agas-ioot.jpg" alt="eCard Wireless" class="media-card clickable" />
              </div>
            </div>
            <div class="lg:w-1/2 p-4 flex flex-col justify-between">
              <div>
                <h4 class="text-2xl font-bold">eCard Wireless</h4>
                <p class="text-slate-600 mt-3">Provides high-speed public internet and a multi-purpose identity card that unifies ID, medical records, and official documents—backed by secure DPI integrations.</p>
                <ul class="mt-4 space-y-2 text-sm text-slate-700">
                  <li>• Universal digital identity</li>
                  <li>• High-speed WiFi & telco partnerships</li>
                  <li>• Immutable, secure records</li>
                </ul>
              </div>
              <div class="mt-6 flex items-center gap-3">
                <a class="px-4 py-2 bg-[var(--indigo)] text-white rounded" href="#" id="see-integration">See integration</a>
                <a class="px-4 py-2 border rounded" href="#" id="partner-with-us">Partner with us</a>
              </div>
            </div>
          </article>

          <!-- Chaperon -->
          <article data-aos="fade-up" data-aos-delay="160" class="p-6 bg-white rounded-2xl shadow-lg flex flex-col lg:flex-row overflow-hidden">
            <div class="lg:w-1/2 p-4 flex items-center justify-center">
              <div class="w-full h-56 lg:h-full overflow-hidden rounded-xl shadow-inner">
                <img src="assets/Chaperon.jpg" alt="Chaperon" class="media-card clickable" />
              </div>
            </div>
            <div class="lg:w-1/2 p-4 flex flex-col justify-between">
              <div>
                <h4 class="text-2xl font-bold">Chaperon</h4>
                <p class="text-slate-600 mt-3">A social support platform that provides housing, training, meals, and job placement—participants reimburse via a percentage of salary, creating a sustainable loop.</p>
                <ul class="mt-4 space-y-2 text-sm text-slate-700">
                  <li>• Job training & placements</li>
                  <li>• Temporary housing & meals</li>
                  <li>• Income-sharing repayment model</li>
                </ul>
              </div>
              <div class="mt-6 flex items-center gap-3">
                <a class="px-4 py-2 bg-[var(--indigo)] text-white rounded" href="#" id="join-chaperon">Join Chaperon</a>
                <a class="px-4 py-2 border rounded" href="#" id="support">Support</a>
              </div>
            </div>
          </article>

          <!-- Aori -->
          <article data-aos="fade-up" data-aos-delay="240" class="p-6 bg-white rounded-2xl shadow-lg flex flex-col lg:flex-row-reverse overflow-hidden">
            <div class="lg:w-1/2 p-4 flex items-center justify-center">
              <div class="w-full h-56 lg:h-full overflow-hidden rounded-xl shadow-inner">
                <img src="assets/Aori.jpg" alt="Aori - Acquire or Integrate" class="media-card clickable" />
              </div>
            </div>
            <div class="lg:w-1/2 p-4 flex flex-col justify-between">
              <div>
                <h4 class="text-2xl font-bold">Aori (Acquire or Integrate)</h4>
                <p class="text-slate-600 mt-3">Aori brings together lands, corporate services and public infrastructure into a shared conglomerate under Morshux, making every person a stakeholder in planetary resources.</p>
                <ul class="mt-4 space-y-2 text-sm text-slate-700">
                  <li>• Resource integration & governance</li>
                  <li>• Corporate and citizen partnership</li>
                  <li>• Equitable shareholding model</li>
                </ul>
              </div>
              <div class="mt-6 flex items-center gap-3">
                <a class="px-4 py-2 bg-[var(--indigo)] text-white rounded" href="#" id="learn-about-aori">Learn about Aori</a>
                <a class="px-4 py-2 border rounded" href="#" id="contribute-resources">Contribute resources</a>
              </div>
            </div>
          </article>

        </div>
      </div>
    </section>

    <!-- HOW IT WORKS -->
    <section id="how" class="py-12 bg-gradient-to-b from-white to-indigo-50">
      <div class="max-w-4xl mx-auto text-center" data-aos="fade-up">
        <h3 class="text-3xl font-bold">How Laastras Operates</h3>
        <p class="mt-4 text-slate-600">We transform raw planetary resources (Shadres) into SCoPS entitlements via the SCoSH-CTP chain. DPI enables transparency and DG ensures trust—while Services Exchange and Virtual Currency power voluntary trade.</p>

        <div class="mt-8 grid grid-cols-1 md:grid-cols-3 gap-6">
          <div class="p-6 bg-white rounded-lg shadow">
            <h5 class="font-semibold">RRMI</h5>
            <p class="text-sm text-slate-600 mt-2">Raw Resources Management Institution: inventories and protects planetary resources.</p>
          </div>
          <div class="p-6 bg-white rounded-lg shadow">
            <h5 class="font-semibold">TRMI</h5>
            <p class="text-sm text-slate-600 mt-2">Transformation & Production: Converts Shadres into consumables under Morshux oversight.</p>
          </div>
          <div class="p-6 bg-white rounded-lg shadow">
            <h5 class="font-semibold">IFaSS</h5>
            <p class="text-sm text-slate-600 mt-2">International Fair Social System: Ensures delivery of consumables to every individual.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- CALL TO ACTION -->
    <section class="py-12">
      <div class="max-w-3xl mx-auto text-center" data-aos="zoom-in">
        <h3 class="text-2xl font-bold">Get Involved</h3>
        <p class="mt-4 text-slate-600">Governments, NGOs, investors and technologists—join our pilot programs. Help us build a fairer global trade system.</p>
        <div class="mt-6 flex justify-center gap-4">
          <a href="#contact" class="px-6 py-3 bg-[var(--indigo)] text-white rounded shadow" id="contact-us">Contact us</a>
          <a href="#" class="px-6 py-3 border rounded" id="request-whitepaper">Request whitepaper</a>
        </div>
      </div>
    </section>

    <!-- FasterCapital incubation -->
    <section class="py-12">
      <div class="max-w-3xl mx-auto text-center" data-aos="zoom-in">
        Laastras has been accepted into the EquityPilot program of <a href="https://www.fastercapital.com" style="color: blue; text-decoration: underline;">FasterCapital</a> and is seeking a capital of $500,000
      </div>
    </section>

    <!-- FOOTER / CONTACT -->
    <footer id="contact" class="py-12">
      <div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8">
        <div class="space-y-4">
          <img src="assets/logo.png" alt="Laastras" class="w-24" />
          <p class="text-slate-600">Laastras — Leadership as a Service. Building Homocracy with Digital Public Infrastructure.</p>
        </div>

        <div>
          <h5 class="font-semibold">Contact</h5>
          <ul class="mt-3 text-sm text-slate-600 space-y-2">
            <li>Email: <a class="text-[var(--indigo)]" href="mailto:onkezabahizi@gmail.com">onkezabahizi@gmail.com</a></li>
            <li>Portfolio: <a class="text-[var(--indigo)]" href="https://mwambaro.github.io" target="_blank">mwambaro.github.io</a></li>
            <li>LinkedIn: <a class="text-[var(--indigo)]" href="https://www.linkedin.com/in/obed-edom-nkezabahizi-5695b8167" target="_blank">Obed-Edom N.</a></li>
          </ul>
        </div>

        <div>
          <h5 class="font-semibold">Subscribe</h5>
          <p class="text-sm text-slate-600 mt-2">Get updates about pilots, whitepapers and partnership opportunities.</p>
          <form class="mt-4 flex gap-2" action="https://formsubmit.co/onkezabahizi@gmail.com" method="POST">
            <input class="flex-1 px-3 py-2 border rounded" type="email" name="email" placeholder="you@example.com" required>
            <button class="px-4 py-2 bg-[var(--indigo)] text-white rounded">Subscribe</button>
          </form>
        </div>
      </div>

      <div class="max-w-7xl mx-auto mt-10 text-center text-xs text-slate-500">
        © Laastras · Homocracy · Built by Obed-Edom Nkezabahizi
      </div>
    </footer>

  </main>

  <!-- Scripts -->
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    AOS.init({ duration: 700, once: true });
    document.getElementById('burger').addEventListener('click', function(){
      const m = document.getElementById('mobileMenu'); m.classList.toggle('hidden');
    });
    document.querySelectorAll('.read-more-link').forEach(btn => btn.addEventListener('click', e => {
      const next = e.target.nextElementSibling; if(!next) return; next.classList.toggle('open'); e.target.textContent = next.classList.contains('open') ? 'Read less' : 'Read more';
    }));
    function fitMedia(){
      document.querySelectorAll('video.media-card, img.media-card').forEach(el => {
        el.style.maxHeight = Math.min(window.innerHeight * 0.6, 720) + 'px';
        el.style.width = '100%';
      });
    }
    window.addEventListener('load', fitMedia); window.addEventListener('resize', fitMedia);

const overlay = document.getElementById("fullscreenOverlay");
const fullImg = document.getElementById("fullscreenImage");
const closeBtn = document.getElementById("closeFullscreen");
const overlayContent = document.getElementById("overlayContent");

/* Utility: show overlay with image */
function showOverlayWithImage(src, alt=''){
  fullImg.src = src;
  fullImg.alt = alt;
  fullImg.classList.remove('hidden');
  overlayContent.classList.add('hidden');
  overlay.style.display = 'flex';
  document.body.style.overflow = 'hidden';
}

/* Utility: show overlay with HTML content (forms, extra markup) */
function showOverlayWithContent(html){
  overlayContent.innerHTML = html;
  overlayContent.classList.remove('hidden');
  fullImg.classList.add('hidden');
  overlay.style.display = 'flex';
  document.body.style.overflow = 'hidden';
  // re-attach form submit prevention to show a thank-you state inline if desired (FormSubmit will redirect by default)
  const forms = overlayContent.querySelectorAll('form');
  forms.forEach(f=>{
    f.addEventListener('submit', (ev)=>{
      // Let the browser submit to FormSubmit; optionally we could show inline feedback.
      // Do not preventDefault so FormSubmit receives the POST.
      // but show a subtle "Submitting..." state:
      const btn = f.querySelector('button[type="submit"], button');
      if(btn){ btn.disabled = true; btn.classList.add('opacity-60'); btn.textContent = 'Submitting…'; }
    });
  });
}

/* Close handlers */
closeBtn.addEventListener("click", ()=> {
  overlay.style.display = 'none';
  document.body.style.overflow = '';
});
overlay.addEventListener("click", e=>{ 
  if(e.target===overlay){
    overlay.style.display = 'none';
    document.body.style.overflow = '';
  }
});

/* Make images clickable and open overlay */
document.querySelectorAll(".clickable").forEach(img=>{
  img.style.cursor='pointer';
  img.addEventListener("click", ()=> showOverlayWithImage(img.src, img.alt||''));
});

/* Form templates - Tailwind-styled and responsive
   Forms 1-10 according to your spec.
*/
function formHTML({subject='', visibleSubject=false, includeMessage=false, title='Get in touch'}) {
  // subject: string for hidden subject value
  // visibleSubject: if true, render a visible subject input
  // includeMessage: render textarea
  return `
    <div class="max-w-xl mx-auto">
      <div class="flex items-center justify-between mb-6">
        <h3 class="text-2xl font-bold">${title}</h3>
        <button id="overlayCloseTop" class="text-sm text-slate-600 hover:text-black">Close</button>
      </div>

      <form action="https://formsubmit.co/onkezabahizi@gmail.com" method="POST" class="space-y-4 bg-white">
        ${ visibleSubject ? `<input name="subject" placeholder="Subject" required class="w-full p-3 border rounded shadow-sm" />` : `<input type="hidden" name="subject" value="${escapeHtml(subject)}" />` }
        <input name="full_name" placeholder="Full name" required class="w-full p-3 border rounded shadow-sm" />
        <input type="email" name="email" placeholder="Email" required class="w-full p-3 border rounded shadow-sm" />
        <input name="phone_number" placeholder="Full phone number (WhatsApp preferred)" required class="w-full p-3 border rounded shadow-sm" />
        ${ includeMessage ? `<textarea name="message" rows="4" placeholder="Message" required class="w-full p-3 border rounded shadow-sm"></textarea>` : '' }
        <div class="flex gap-2">
          <button type="submit" class="flex-1 px-4 py-3 bg-[var(--indigo)] text-white rounded font-semibold">Send</button>
          <button type="button" id="cancelBtn" class="px-4 py-3 border rounded">Cancel</button>
        </div>
      </form>
      <p class="text-xs text-slate-500 mt-3">We will never share your personal data. By submitting, you agree to be contacted regarding your request.</p>
    </div>
  `;
}

/* Simple escape helper to avoid injecting quotes into hidden inputs */
function escapeHtml(str){
  if(!str) return '';
  return String(str).replace(/&/g,'&amp;').replace(/"/g,'&quot;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
}

/* Map link IDs to form configurations */
const formsConfig = {
  "learn-more": { subject: "Learn more about GetClientele", visibleSubject:false, includeMessage:false, title: "Learn more — GetClientele" },
  "request-demo": { subject: "Request demo about GetClientele", visibleSubject:false, includeMessage:false, title: "Request a demo — GetClientele" },
  "see-integration": { subject: "See how DPI integrations support eCard Wireless", visibleSubject:false, includeMessage:false, title: "DPI integration — eCard Wireless" },
  "partner-with-us": { subject: "Partner with us to launch eCard Wireless infrastructure", visibleSubject:false, includeMessage:false, title: "Partner with us — eCard Wireless" },
  "join-chaperon": { subject: "Join Chaperon as an Unemployed or Job Seeker", visibleSubject:false, includeMessage:false, title: "Join Chaperon" },
  "support": { subject: "Support Chaperon through donations or other means", visibleSubject:false, includeMessage:false, title: "Support Chaperon" },
  "learn-about-aori": { subject: "Learn more about Aori (Acquire or Integrate)", visibleSubject:false, includeMessage:false, title: "Learn about Aori" },
  "contribute-resources": { subject: "Contribute resources to Aori Conglomerate", visibleSubject:false, includeMessage:false, title: "Contribute to Aori" },
  "request-whitepaper": { subject: "Request whitepaper about Laastras mission", visibleSubject:false, includeMessage:false, title: "Request Whitepaper" },
  /* contact-us requires visible subject and message textarea per spec */
  "contact-us": { subject: "", visibleSubject:true, includeMessage:true, title: "Contact Laastras" }
};

/* Attach click handlers to each link if present */
Object.keys(formsConfig).forEach(id => {
  const el = document.getElementById(id);
  if(!el) return;
  el.addEventListener('click', e => {
    e.preventDefault();
    const cfg = formsConfig[id];
    const html = formHTML({ subject: cfg.subject, visibleSubject: cfg.visibleSubject, includeMessage: cfg.includeMessage, title: cfg.title });
    showOverlayWithContent(html);

    // attach close handlers inside overlay content (they are recreated each time)
    setTimeout(()=> {
      const closeTop = document.getElementById('overlayCloseTop');
      const cancelBtn = document.getElementById('cancelBtn');
      if(closeTop) closeTop.addEventListener('click', ()=> { overlay.style.display='none'; document.body.style.overflow=''; });
      if(cancelBtn) cancelBtn.addEventListener('click', ()=> { overlay.style.display='none'; document.body.style.overflow=''; });
    }, 50);
  });
});

/* Ensure existing clickable images show cursor pointer (in case DOM content loads later) */
document.addEventListener('DOMContentLoaded', ()=> {
  document.querySelectorAll('.clickable').forEach(img => img.style.cursor = 'pointer');
});

/* Accessibility tweak: close overlay on ESC */
document.addEventListener('keydown', (e)=>{
  if(e.key === 'Escape' && overlay.style.display === 'flex'){
    overlay.style.display = 'none';
    document.body.style.overflow = '';
  }
});
  </script>
<script>
  // Helper: show inline error message directly beneath the field
  function setError(field, message) {
    clearError(field); // remove any existing message

    const msg = document.createElement('div');
    msg.className = 'error-msg text-red-600 text-sm mt-1';
    msg.textContent = message;

    // Insert directly after the field, ensuring correct placement
    field.insertAdjacentElement('afterend', msg);

    field.classList.add('border-red-500');
  }

  // Helper: clear inline error message for a specific field
  function clearError(field) {
    const next = field.nextElementSibling;
    if (next && next.classList.contains('error-msg')) {
      next.remove();
    }
    field.classList.remove('border-red-500');
  }


  // Live inline validation
  document.addEventListener('input', function (e) {
    const f = e.target;
    if (!f.form) return;

    switch (f.name) {
      case "full_name":
        if (f.value.trim().length === 0) setError(f, "Full name is required.");
        else clearError(f);
        break;

      case "email":
        if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f.value))
          setError(f, "Enter a valid email address.");
        else clearError(f);
        break;

      case "phone_number":
        if (!/^\+[0-9]{8,15}$/.test(f.value))
          setError(f, "Phone must start with + and contain 8–15 digits.");
        else clearError(f);
        break;

      case "message":
        if (f.value.trim().length === 0)
          setError(f, "Message is required.");
        else if (f.value.length > 3000)
          setError(f, "Message cannot exceed 3000 characters.");
        else clearError(f);
        break;
    }
  });


  // Submit-time validation
  document.addEventListener('submit', function (e) {
    const form = e.target;
    const fields = form.querySelectorAll("input, textarea");

    let valid = true;

    fields.forEach(f => {
      clearError(f); // clean previous messages

      if (f.name === "full_name" && f.value.trim().length === 0) {
        setError(f, "Full name is required.");
        valid = false;
      }
      if (f.name === "email" &&
          !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f.value)) {
        setError(f, "Enter a valid email address.");
        valid = false;
      }
      if (f.name === "phone_number" &&
          !/^\+[0-9]{8,15}$/.test(f.value)) {
        setError(f, "Phone must start with + and contain 8–15 digits.");
        valid = false;
      }
      if (f.name === "message") {
        if (f.value.trim().length === 0) {
          setError(f, "Message is required.");
          valid = false;
        } else if (f.value.length > 3000) {
          setError(f, "Message cannot exceed 3000 characters.");
          valid = false;
        }
      }
    });

    if (!valid) {
      e.preventDefault();

      // Re-enable submit button (fixes your earlier bug)
      const btn = form.querySelector('button[type="submit"], button');
      if (btn) {
        btn.disabled = false;
        btn.classList.remove('opacity-60');
        btn.textContent = 'Send';
      }
    }
  });

</script></body>
</html>
